@page "/login"
@using System.ComponentModel.DataAnnotations
@inject IAuthenticationService AuthenticationService
@inject NavigationManager NavigationManager

<PageTitle>Login</PageTitle>
<h3>Login</h3>

<div class="form-group">
    <label class="form-control-label">Benutzername</label>
    <input type="text" class="form-control" @bind="@Username">
</div>
<div class="form-group">
    <label class="form-control-label">Passwort</label>
    <input type="password" class="form-control" @bind="@Password">
</div>

<div class="form-group">
    <button @onclick="Login">Login</button>
</div>

@code {

    string? Username { get; set; }
    string? Password { get; set; }

    private bool Loading { get; set; }
    private string Error { get; set; }

    private async Task Login()
    {
        Loading = true;

        try
        {
            await AuthenticationService.Login(Username, Password);

        }
        catch (Exception ex)
        {
            Error = ex.Message;
            Loading = false;
            StateHasChanged();
        }


        NavigationManager.NavigateTo("/addreminder");
    }
}
